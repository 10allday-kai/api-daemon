
[workspace]
members = [
  "child-test-daemon/",
  "codegen/",
  "common/",
  "daemon/",
  "parser/",
  "services/apps",
  "services/audiovolumemanager",
  "services/contacts",
  "services/devicecapability",
  "services/geckobridge",
  # "services/libsignal",
  "services/powermanager",
  "services/procmanager",
  "services/settings",
  "services/tcpsocket",
  "services/test",
  "services/time",
  "support/android-utils/",
  "support/hidl-utils/",
  "support/libsignal-sys/",
  "support/light/",
  "support/sqlite-utils",
  "tests/driver",
  "vhost/",
]

[patch.crates-io]
# Unbreak build on Gonk.
ring = { git = "https://github.com/kaiostech/ring.git", branch = "gonk-0.16.16" }
# Pick up a version that doesn't depend on webpki-roots v0.19
reqwest = { git = "https://github.com/fabricedesre/reqwest.git", branch = "patch-1" }
# Bump crossbeam to avoid duplicates
actix = { git = "https://github.com/fabricedesre/actix.git", branch = "0.10-bump-crossbeam" }

[profile.release]
opt-level = 3
debug = false
rpath = false
lto = true
debug-assertions = false
codegen-units = 1
panic = "abort"
